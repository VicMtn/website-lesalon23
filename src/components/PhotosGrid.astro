---
interface Photo {
  src: string;
  alt: string;
  category?: string;
}

interface Props {
  photos: Photo[];
}

const { photos } = Astro.props;
---

<div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 md:gap-4">
  {photos.map((photo, index) => (
    <div 
      class:list={[
        "group relative overflow-hidden rounded-xl cursor-pointer",
        // Variation of sizes for a masonry effect
        index === 0 && "md:col-span-2 md:row-span-2",
        index === 3 && "md:col-span-2",
        index === 6 && "lg:col-span-2",
      ]}
    >
      <img
        src={photo.src}
        alt={photo.alt}
        class="w-full h-48 md:h-full object-cover transition-transform duration-500 group-hover:scale-110"
        loading="lazy"
      />
      
      <div class="absolute inset-0 bg-linear-to-t from-secondary-900/80 via-secondary-900/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300">
        <div class="absolute bottom-0 left-0 right-0 p-4">
          {photo.category && (
            <span class="inline-block px-3 py-1 bg-primary-500/90 text-white text-xs font-medium rounded-full mb-2">
              {photo.category}
            </span>
          )}
          <p class="text-white text-sm font-medium">{photo.alt}</p>
        </div>
      </div>
      
      <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-12 h-12 bg-white/90 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 scale-75 group-hover:scale-100 transition-all duration-300">
        <svg class="w-5 h-5 text-secondary-800" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607zM10.5 7.5v6m3-3h-6" />
        </svg>
      </div>
    </div>
  ))}
</div>

<style>
  /* For elements with variation of size */
  .md\:col-span-2.md\:row-span-2 img {
    @media (min-width: 768px) {
      min-height: 400px;
    }
  }
</style>

